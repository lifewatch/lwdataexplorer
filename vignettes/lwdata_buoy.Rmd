---
title: "Exploring buoy data"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{lwdata_buoy}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>", warning = FALSE, message = FALSE
)
```
<!--- Insert image  -->
<img src='https://www.lifewatch.be/code/images/lwde_buoy.png' class='rightimg'/>

<!--- Describe datatype in one or two sentences. -->
Data from buoys installed in the Belgian Part of the North Sea.

- Partners: [Flanders Marine Institute (VLIZ)](https://www.vliz.be/en/imis?module=institute&insid=36), with support from C-power
- Period: since September 2015
- Geographical coverage: [Thornthon Shoal](https://marineregions.org/gazetteer.php?p=details&id=2438), [Belgian Exclusive Economic Zone](https://www.marineregions.org/gazetteer.php?p=details&id=3293)
- Taxonomic coverage: Abiotic data only
- Moratorium: None
- Data quality: Unknown
 
## How to interpret this dataset
 
### Query options
* **Timeframe**: Starting and stopping date for the query.
* **Stations**:  List of stations to be included in the query.
 
### Available columns
* **ZTime**:                    
* **Station**:Name or code of sampling station or receiver code.               
* **Time**: Time in UTC, beginning of sample timeperiod.                  
* **Latitude**: Center latitude in decimal degrees, WGS84.               
* **Longitude**: Center longitude in decimal degrees, WGS84 .               
* **Air temperature (°C)**: Air temperature in °C.   
* **AtmPress (mBar)**: Atmospheric pressure in mBar.        
* **AtmPress(mBar)**:        
* **Avg Wind direction (deg)**: Direction of the wind in deg.
* **Avg Wind speed (m/s)**: Speed of the wind in m/s.    
* **Chlorophyll (µg/L)**:    
* **Conductivity (mS/cm)**:     
* **Dissolved oxygen (µM)**:    
* **DO (mg/l)**: Oxygen dissolved in the water body in mg/l.               
* **Level Harbour (mTAW) 1min**:
* **Level Harbour (mTAW)**: Waterlevel in mTAW measured in Ostend at the time.    
* **Level Spuikom (mTAW)**: Waterlevel in mTAW measured in the Spuikom at the time.    
* **NH3 (ppb)**:                
* **NO3 (ppb)**: Concentration of nitrate in the water body, expressed in ppb.                
* **Oxygen sat. (%)**:          
* **pCO2 air (ppm)**:           
* **pH (raw)**:                 
* **PO4 (ppb)**:                
* **Rain (mm)**: Accumulation of rain measured in mm.               
* **Rain15 (mm)**: Accumulation of rain (15) measured in mm.             
* **RelHumidity (%)**: Relative humidity in %.            
* **RelHumidity(%)**:        
* **Salinity (PSU)**: Salinity of the water body, expressed in Practical Salinity Units.          
* **SiO2 (ppb)**: Concentration of silicate in the water body, expressed in ppb.         
* **SolarEnergy (W/m²)**: Solar energy in W/m².      
* **Tilt X (deg)**:             
* **Tilt Y (deg)**:             
* **Turbidity (NTU)**:          
* **Turbidity(FBU)**:           
* **Voltage (V)**: Battery power, voltage in V.             
* **Water pressure (dBar)**:    
* **Water temperature (°C)**: Temperature of the water body, expressed in degrees Celcius.  
* **Watercurrent (cm/s)**:      
* **Watercurrent (deg)**:       
* **xCO2 air (ppm)**:           
* **xCO2 Air**:                 
* **xCO2 sea (ppm)**:  



## Abstract
```{r abstract, results = 'asis', echo = FALSE}
# Get the abstract and/or description from IMIS and print here
library(jsonlite)

dasid <- fromJSON("https://www.vliz.be/en/imis?module=dataset&dasid=5252&show=json")

abstract <- dasid[["datasetrec"]][["EngAbstract"]]
description <- dasid[["datasetrec"]][["EngDescr"]]

if (is.null(abstract) & is.null(description)){
  
} else if(is.null(abstract) & !is.null(description)){
  out <- description
} else if(!is.null(abstract) & is.null(description)){
  out <- abstract
} else if(!is.null(abstract) & !is.null(description)){
  out <- paste0(abstract, "</br>", description)
}

cat(out)
```
 
## How to cite these data

When using this tool, please acknowledge the LifeWatch Data Explorer in your work with the statment written below. Please also acknowledge the individual datasets used and mind their individual licenses: Find the complete list in this link to the [IMIS metadata record](https://www.vliz.be/en/imis?module=dataset&dasid=5252) of this data type.

> _This work makes use of the LifeWatch Data Explorer provided by VLIZ and funded by Research Foundation - Flanders (FWO) as part of the Belgian contribution to LifeWatch._

</br>
If you retrieved these data using the [LifeWatch Data Explorer R package](https://github.com/lifewatch/lwdataexplorer/), you should also cite it as: 

```{r citation, results = 'asis', echo = FALSE}
cat(paste0("> ", citation("lwdataexplorer")$textVersion))
```
